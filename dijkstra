#include <stdio.h>
#define MAX 100
#define INF 9999

void dijkstra(int n, int g[MAX][MAX], int s) {
    int d[MAX], v[MAX], i, j, c = 1, min, next;
    for (i = 0; i < n; i++) d[i] = g[s][i], v[i] = 0;
    d[s] = 0; v[s] = 1;
    while (c < n) {
        min = INF; next = -1;
        for (i = 0; i < n; i++) if (!v[i] && d[i] < min) min = d[i], next = i;
        if (next == -1) break;
        v[next] = 1;
        for (i = 0; i < n; i++)
            if (!v[i] && g[next][i] != INF && d[next] + g[next][i] < d[i])
                d[i] = d[next] + g[next][i];
        c++;
    }
    printf("\nShortest distances from source vertex %d:\n", s);
    for (i = 0; i < n; i++) printf("To vertex %d : %d\n", i, d[i]);
}

int main() {
    int n, g[MAX][MAX], s;
    printf("Enter number of vertices: ");
    scanf("%d", &n);
    printf("Enter the adjacency matrix (use %d for infinity/no edge):\n", INF);
    for (int i = 0; i < n; i++)
        for (int j = 0; j < n; j++)
            scanf("%d", &g[i][j]);
    printf("Enter the source vertex (0 to %d): ", n - 1);
    scanf("%d", &s);
    dijkstra(n, g, s);
    return 0;
}


output:
Enter number of vertices: 4
Enter the adjacency matrix (use 9999 for infinity/no edge):
0 3 9999 7
8 0 2 9999
5 9999 0 1
2 9999 9999 0
Enter the source vertex (0 to 3): 0

Shortest distances from source vertex 0:
To vertex 0 : 0
To vertex 1 : 3
To vertex 2 : 5
To vertex 3 : 6
